{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { MIN_USERNAME_LENGTH } from \"../../utils/Constants\";\nimport \"../../styles/roomForm.scss\";\n\nconst RoomForm = ({\n  handleSubmit\n}) => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState(\"\");\n  const {\n    0: room,\n    1: setRoom\n  } = useState(\"\");\n  const {\n    0: key,\n    1: setKey\n  } = useState(\"\");\n  const {\n    0: errors,\n    1: setErrors\n  } = useState({\n    usernameErr: null,\n    roomErr: null\n  });\n\n  const onJoin = event => {\n    event.preventDefault();\n    const {\n      usernameErr,\n      roomErr\n    } = errors;\n\n    if (username !== \"\" && room !== \"\" && usernameErr == null && roomErr == null) {\n      const user = {\n        username,\n        room\n      };\n      handleSubmit(user);\n    } else {\n      // if both the field are null\n      if (!usernameErr && !roomErr) {\n        setErrors({\n          usernameErr: \"Username can't be empty!\",\n          roomErr: \"Room name can't be empty!\"\n        });\n      }\n    }\n  };\n  /**\r\n   * Validating form fields\r\n   * @param  {String} {name\r\n   * @param  {String} value}\r\n   */\n\n\n  const validate = ({\n    name,\n    value\n  }) => {\n    let {\n      usernameErr,\n      roomErr\n    } = errors;\n\n    switch (name) {\n      case \"username\":\n        if (value.length == 0) usernameErr = \"Username can't be empty!\";else if (value.length < MIN_USERNAME_LENGTH) usernameErr = \"Username is too short!\";else usernameErr = null;\n        break;\n\n      case \"room\":\n        if (value.length == 0) roomErr = \"Room name can't be empty!\";else if (value.length > 0 && value.includes(\" \")) roomErr = \"Room name can't have spaces!\";else roomErr = null;\n        break;\n    }\n\n    setErrors({\n      usernameErr,\n      roomErr\n    });\n  };\n  /**\r\n   * add error class if error exist\r\n   * @param  {String} error\r\n   */\n\n\n  const addErrorClass = error => {\n    if (error) return \"error\";\n    return \"\";\n  };\n\n  return __jsx(\"div\", {\n    className: \"chat-form-container container\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center m-0 text-center\"\n  }, __jsx(\"h2\", {\n    className: \"mt-5 mb-5\"\n  }, \"Welcome again to Anomly!\")), __jsx(\"div\", {\n    className: \"row justify-content-center align-items center m-0\"\n  }, __jsx(\"div\", {\n    className: \"chat-form col-11 col-sm-6 col-md-4 p-0\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center align-items-center m-0\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    src: \"/images/chat-logo1.png\",\n    alt: \"icon\"\n  })))), __jsx(\"form\", {\n    onSubmit: onJoin\n  }, __jsx(\"div\", {\n    className: `form-group ${addErrorClass(errors.usernameErr)}`\n  }, __jsx(\"label\", null, \"Display name\"), __jsx(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"username\",\n    value: username,\n    onChange: event => {\n      setUsername(event.target.value);\n      validate(event.target);\n    }\n  }), errors.usernameErr ? __jsx(\"span\", null, __jsx(\"i\", {\n    className: \"fa fa-exclamation-triangle\"\n  }), __jsx(\"small\", {\n    className: \"pl-2\"\n  }, errors.usernameErr)) : null), __jsx(\"div\", {\n    className: `form-group ${addErrorClass(errors.roomErr)}`\n  }, __jsx(\"label\", null, \"Room name\"), __jsx(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"room\",\n    value: room,\n    onChange: event => {\n      setRoom(event.target.value);\n      validate(event.target);\n    }\n  }), errors.roomErr ? __jsx(\"span\", null, __jsx(\"i\", {\n    className: \"fa fa-exclamation-triangle\"\n  }), __jsx(\"small\", {\n    className: \"pl-2\"\n  }, errors.roomErr)) : null), __jsx(\"div\", {\n    className: `form-group ${addErrorClass(errors.roomErr)}`\n  }, __jsx(\"label\", null, \"Room Key\"), __jsx(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"key\",\n    value: key,\n    onChange: event => {\n      setKey(event.target.value);\n      validate(event.target);\n    }\n  }), errors.roomErr ? __jsx(\"span\", null, __jsx(\"i\", {\n    className: \"fa fa-exclamation-triangle\"\n  }), __jsx(\"small\", {\n    className: \"pl-2\"\n  }, errors.roomErr)) : null), __jsx(\"input\", {\n    className: \"btn\",\n    type: \"submit\",\n    value: \"Join Chat\"\n  })))));\n};\n\nexport default RoomForm;","map":{"version":3,"names":["useState","Link","MIN_USERNAME_LENGTH","RoomForm","handleSubmit","username","setUsername","room","setRoom","key","setKey","errors","setErrors","usernameErr","roomErr","onJoin","event","preventDefault","user","validate","name","value","length","includes","addErrorClass","error","target"],"sources":["C:/Users/teldeeb/kitchen/Anomly/components/Chat/RoomForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { MIN_USERNAME_LENGTH } from \"../../utils/Constants\";\r\nimport \"../../styles/roomForm.scss\";\r\n\r\nconst RoomForm = ({ handleSubmit }) => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n    const [key, setKey] = useState(\"\");\r\n    const [errors, setErrors] = useState({\r\n        usernameErr: null,\r\n        roomErr: null,\r\n    });\r\n\r\n    const onJoin = (event) => {\r\n        event.preventDefault();\r\n\r\n        const { usernameErr, roomErr } = errors;\r\n\r\n        if (\r\n            username !== \"\" &&\r\n            room !== \"\" &&\r\n            usernameErr == null &&\r\n            roomErr == null\r\n        ) {\r\n            const user = {\r\n                username,\r\n                room,\r\n            };\r\n            handleSubmit(user);\r\n        } else {\r\n            // if both the field are null\r\n            if (!usernameErr && !roomErr) {\r\n                setErrors({\r\n                    usernameErr: \"Username can't be empty!\",\r\n                    roomErr: \"Room name can't be empty!\",\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Validating form fields\r\n     * @param  {String} {name\r\n     * @param  {String} value}\r\n     */\r\n    const validate = ({ name, value }) => {\r\n        let { usernameErr, roomErr } = errors;\r\n\r\n        switch (name) {\r\n            case \"username\":\r\n                if (value.length == 0) usernameErr = \"Username can't be empty!\";\r\n                else if (value.length < MIN_USERNAME_LENGTH)\r\n                    usernameErr = \"Username is too short!\";\r\n                else usernameErr = null;\r\n                break;\r\n            case \"room\":\r\n                if (value.length == 0) roomErr = \"Room name can't be empty!\";\r\n                else if (value.length > 0 && value.includes(\" \"))\r\n                    roomErr = \"Room name can't have spaces!\";\r\n                else roomErr = null;\r\n                break;\r\n        }\r\n        setErrors({\r\n            usernameErr,\r\n            roomErr,\r\n        });\r\n    };\r\n\r\n    /**\r\n     * add error class if error exist\r\n     * @param  {String} error\r\n     */\r\n    const addErrorClass = (error) => {\r\n        if (error) return \"error\";\r\n        return \"\";\r\n    };\r\n\r\n    return (\r\n        <div className=\"chat-form-container container\">\r\n            <div className=\"row justify-content-center m-0 text-center\">\r\n                <h2 className=\"mt-5 mb-5\">Welcome again to Anomly!</h2>\r\n            </div>\r\n            <div className=\"row justify-content-center align-items center m-0\">\r\n                <div className=\"chat-form col-11 col-sm-6 col-md-4 p-0\">\r\n                    <div className=\"row justify-content-center align-items-center m-0\">\r\n                        <Link href=\"/\">\r\n                            <a>\r\n                                <img src=\"/images/chat-logo1.png\" alt=\"icon\" />\r\n                            </a>\r\n                        </Link>\r\n                    </div>\r\n                    <form onSubmit={onJoin}>\r\n                        <div\r\n                            className={`form-group ${addErrorClass(\r\n                                errors.usernameErr\r\n                            )}`}>\r\n                            <label>Display name</label>\r\n                            <input\r\n                                className=\"form-control\"\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                value={username}\r\n                                onChange={(event) => {\r\n                                    setUsername(event.target.value);\r\n                                    validate(event.target);\r\n                                }}\r\n                            />\r\n                            {errors.usernameErr ? (\r\n                                <span>\r\n                                    <i className=\"fa fa-exclamation-triangle\"></i>\r\n                                    <small className=\"pl-2\">\r\n                                        {errors.usernameErr}\r\n                                    </small>\r\n                                </span>\r\n                            ) : null}\r\n                        </div>\r\n                        <div\r\n                            className={`form-group ${addErrorClass(\r\n                                errors.roomErr\r\n                            )}`}>\r\n                            <label>Room name</label>\r\n                            <input\r\n                                className=\"form-control\"\r\n                                type=\"text\"\r\n                                name=\"room\"\r\n                                value={room}\r\n                                onChange={(event) => {\r\n                                    setRoom(event.target.value);\r\n                                    validate(event.target);\r\n                                }}\r\n                            />\r\n                            {errors.roomErr ? (\r\n                                <span>\r\n                                    <i className=\"fa fa-exclamation-triangle\"></i>\r\n                                    <small className=\"pl-2\">\r\n                                        {errors.roomErr}\r\n                                    </small>\r\n                                </span>\r\n                            ) : null}\r\n                        </div>\r\n\t\t\t\t\t\t<div\r\n                            className={`form-group ${addErrorClass(\r\n                                errors.roomErr\r\n                            )}`}>\r\n                            <label>Room Key</label>\r\n                            <input\r\n                                className=\"form-control\"\r\n                                type=\"text\"\r\n                                name=\"key\"\r\n                                value={key}\r\n                                onChange={(event) => {\r\n                                    setKey(event.target.value);\r\n                                    validate(event.target);\r\n                                }}\r\n                            />\r\n                            {errors.roomErr ? (\r\n                                <span>\r\n                                    <i className=\"fa fa-exclamation-triangle\"></i>\r\n                                    <small className=\"pl-2\">\r\n                                        {errors.roomErr}\r\n                                    </small>\r\n                                </span>\r\n                            ) : null}\r\n                        </div>\r\n\t\t\t\t\t\t\r\n                        <input\r\n                            className=\"btn\"\r\n                            type=\"submit\"\r\n                            value=\"Join Chat\"\r\n                        />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoomForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}